<%- include('partials/header') %>

<div class="container">
    <h1><%= pageTitle %></h1>


    <% if (error) { %>
        <p class="error-msg"><%= error %></p>
    <% } %>

    <% if (success) { %>
        <p class="success-msg"><%= success %></p>
    <% } %>

    <form id="faceSwapForm" enctype="multipart/form-data">
        <div class="form-group">
            <label>Name</label>
            <input type="text" name="name" required minlength="4" maxlength="30">
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" required>
        </div>

        <div class="form-group">
            <label>Phone</label>
            <input type="text" name="phone" pattern="\d{10}" required>
        </div>

        <!-- Input Image -->
        <div class="form-group">
            <label>Input Image</label>
            <div class="image-upload">
                <select id="cameraSelect">
                    <option value="">Upload File</option>
                    <option value="user">Front Camera</option>
                    <option value="environment">Back Camera</option>
                </select>
                <button type="button" id="cameraInputBtn">Capture / Upload</button>
                <input type="file" name="inputImage" accept="image/*" style="display:none;" required>
                <img id="inputPreview" class="preview-img" alt="Input Preview" style="display:none; max-width:200px; max-height:200px; margin-top:10px;">
            </div>
        </div>

        <!-- Style Image -->
        <div class="form-group">
            <label>Style Image (Optional)</label>
            <input type="file" name="styleImage" accept="image/*">
            <img id="stylePreview" class="preview-img" alt="Style Preview" style="display:none; max-width:200px; max-height:200px; margin-top:10px;">
        </div>

        <!-- Terms & Conditions -->
        <div class="form-group checkbox">
            <input type="checkbox" name="terms" value="true" id="termsCheckbox" required>
            <label for="termsCheckbox">I accept Terms & Conditions</label>
        </div>

        <button type="submit" class="submit-btn">Submit</button>
    </form>
</div>

<!-- Result Modal -->
<div id="resultModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:400px; margin:50px auto; background:#fff; padding:20px; border-radius:8px; text-align:center; position:relative;">
        <span id="closeModal" style="position:absolute; top:10px; right:15px; cursor:pointer; font-size:20px;">&times;</span>
        <h2>ðŸ˜Ž Look Whoâ€™s Fancy Now!</h2>
        <p id="modalMessage"></p>
        <img id="modalSwappedImg" style="max-width:100%; max-height:300px; margin-top:10px; border:1px solid #ccc; border-radius:8px;" alt="Swapped Image">
        <p id="modalRecommendations" style="margin-top:10px;"></p>
        <button id="modalDownloadBtn" style="margin-top:15px;">Download Image</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/form.js"></script>

<%- include('partials/footer') %>
